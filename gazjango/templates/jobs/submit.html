{% extends "base.html" %}
{% load extras %}

{% block title %}Submit Job Listing{% endblock %}

{% block customheader %}

  {% jQuery %}
  <script type="text/javascript" charset="utf-8">
    function togglePay() {
      $('#{{ form.pay.auto_id }}').parent().parent().eq(0).toggle(0);
    }
    
    $(document).ready(function() {
      if ($('#{{ form.is_paid.auto_id }}:checked').length == 0) {
        togglePay();
      }
    })
  </script>
  
<link rel="stylesheet" href="{% static css page/story.css %}" type="text/css" media="screen, projection" />

{% endblock %}


{% block topbar %}
  <div id="headerSectionBar">
    <div id="headerSearch">
      {% include "search_header.html" %}
    </div>
  </div>
{% endblock topbar %}


{% block content %}
  <div id="storyBox">
    <div id="story">
      <h2>Submit a Job Listing</h2>

		  {% if form.non_field_errors %}
			<p>
			  {{ form.non_field_errors }}
			</p>
		  {% endif %}
		  <form action="" method="post">
  			<table class="submission">
  			  <tr>
    				<th width="150px">{{ form.name.label_tag }}:</th>
    				<td>{{ form.name }}</td>
    				<td>{{ form.name.errors }}</td>
  			  </tr>
  			  <tr>
    				<th>{{ form.description.label_tag }}:</th>
    				<td>{{ form.description }}</td>
    				<td>{{ form.description.errors }}</td>
  			  </tr>
  			  <tr>
    				<th><label for="{{ form.is_paid.auto_id }}">Paid job</label>:</th>
    				<td>{{ form.is_paid }}</td>
    				<td>{{ form.is_paid.errors }}</td>
    			</tr>
    			<tr id="pay-row">
    			  <th>{{ form.pay.label_tag }}:</th>
    				<td>{{ form.pay }}</td>
    				<td>{{ form.pay.errors }}</td>
  			  </tr>
  			  <tr>
  			    <th>{{ form.hours.label_tag }}:</th>
  			    <td>{{ form.hours }}</td>
  			    <td>{{ form.hours.errors }}</td>
  			  </tr>
  			  <tr>
  			    <th>{{ form.when.label_tag }}:</th>
  			    <td>{{ form.when }}</td>
  			    <td>{{ form.when.errors }}</td>
  			  </tr>
          <tr>
            <th>{{ form.where.label_tag }}:</th>
            <td>{{ form.where }}</td>
            <td>{{ form.where.errors }}</td>
          </tr>
          <tr>
            <th><label for="{{ form.at_swat.auto_id }}">On campus</label>:</th>
            <td>{{ form.at_swat }}</td>
            <td>{{ form.at_swat.errors }}</td>
          </tr>
          <tr>
            <th>{{ form.needs_car.label_tag }}:</th>
            <td>{{ form.needs_car }}</td>
            <td>{{ form.needs_car.errors }}</td>
          </tr>
          <tr>
  			  	<th></th>
  			  	<td>
  			  		<input type="submit" value="Submit" />
  			  	</td>
  			  	<td></td>
  			  </tr>			  
  			</table>
		  </form>
		  
 		</div>
 	</div>
{% endblock %}
